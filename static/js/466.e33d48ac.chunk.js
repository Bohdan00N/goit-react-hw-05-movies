"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[466],{684:function(e,t,r){r.d(t,{Hg:function(){return i},Ku:function(){return m},Pg:function(){return u},W_:function(){return v},z1:function(){return c}});var n=r(861),a=r(757),o=r.n(a),s=r(912).Z.create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"d178e473a587fbce7658ca70e872c0b4"}}),i=function(){var e=(0,n.Z)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("trending/movie/day",{params:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,n.Z)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("search/movie",{params:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,n.Z)(o().mark((function e(t,r){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("movie/".concat(t),{params:r});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=(0,n.Z)(o().mark((function e(t,r){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("movie/".concat(t,"/credits"),{params:r});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),v=function(){var e=(0,n.Z)(o().mark((function e(t,r){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("movie/".concat(t,"/reviews"),{params:r});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},466:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var n=r(861),a=r(439),o=r(757),s=r.n(o),i=r(684),c=r(686),u=r(791),m=r(689),v="movieInfo_info__t05kb",l=r(87),p=r(184),f=function(e){var t=e.listTitle,r=e.location;return(0,p.jsxs)("ul",{className:v,children:[t,(0,p.jsx)("li",{children:(0,p.jsx)(l.rU,{to:"cast",state:{from:r},children:"Cast"})}),(0,p.jsx)("li",{children:(0,p.jsx)(l.rU,{to:"reviews",state:{from:r},children:"Reviews"})})]})},h={movieItem:"movieItem_movieItem__ptlEg",movieInfoContainer:"movieItem_movieInfoContainer__uZzgd",moviePoster:"movieItem_moviePoster__dHFhG",movieInfo:"movieItem_movieInfo__zaNNh",movieNotes:"movieItem_movieNotes__-W1o4",movieNotesItem:"movieItem_movieNotesItem__fWzQm",btnBack:"movieItem_btnBack__gt1z-"},d=function(e){var t=e.location,r=e.posterPath,n=e.title,a=e.popularity,o=e.overview,s=e.genres;return(0,p.jsxs)("div",{className:h.movieItem,children:[(0,p.jsx)(l.rU,{to:t,className:h.goBack,children:(0,p.jsx)("button",{className:h.btnBack,children:"Go back"})}),(0,p.jsxs)("div",{className:h.movieInfoContainer,children:[(0,p.jsx)("img",{className:h.moviePoster,src:"https://image.tmdb.org/t/p/original".concat(r),alt:n,width:"400",height:"600",loading:"lazy"}),(0,p.jsxs)("div",{className:h.movieInfo,children:[(0,p.jsx)("h1",{className:h.movieNotes,children:n}),(0,p.jsxs)("p",{className:h.movieNotesItem,children:["User score:",a,"%"]}),(0,p.jsx)("h2",{className:h.movieNotes,children:"Overview"}),(0,p.jsx)("p",{className:h.movieNotesItem,children:o}),(0,p.jsx)("h2",{className:h.movieNotes,children:"Genres"}),(0,p.jsx)("p",{className:h.movieNotesItem,children:s})]})]})]})},x=function(){var e,t,r=(0,m.UO)().movieId,o=(0,m.TH)(),v=(0,u.useState)(""),l=(0,a.Z)(v,2),h=l[0],x=l[1],_=(0,u.useState)(""),g=(0,a.Z)(_,2),N=g[0],j=g[1],w=(0,u.useState)(""),I=(0,a.Z)(w,2),b=I[0],k=I[1],y=(0,u.useState)(""),Z=(0,a.Z)(y,2),P=Z[0],S=Z[1],z=(0,u.useState)(""),C=(0,a.Z)(z,2),U=C[0],B=C[1],G=null!==(e=null===(t=o.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/movies";return(0,u.useEffect)((function(){var e=function(){var e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.Pg)(r);case 3:t=e.sent,x(t.title),j(t.poster_path),k(t.overview),S(t.genres.map((function(e){return e.name})).join(", ")),B(t.popularity),void 0===t&&c.Notify.failure("Sorry, there is no information about this movie"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[r]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d,{title:h,posterPath:N,popularity:U,overview:b,genres:P,location:G}),(0,p.jsx)(f,{listTitle:"Information",location:G}),(0,p.jsx)(u.Suspense,{fallback:(0,p.jsx)("div",{children:"Loading..."}),children:(0,p.jsx)(m.j3,{})})]})}}}]);
//# sourceMappingURL=466.e33d48ac.chunk.js.map